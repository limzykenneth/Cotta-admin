!function e(t,n,o){function r(a,c){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!c&&u)return u(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var s=n[a]={exports:{}};t[a][0].call(s.exports,function(e){var n=t[a][1][e];return r(n||e)},s,s.exports,e,t,n,o)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(e,t,n){(function(n){function o(e,t){e.submit(function(e){e.preventDefault();var n=r(i(this).serializeArray(),t);fetch(i(this).attr("action"),{method:"post",headers:window.fetchHeaders,body:JSON.stringify(n)}).then(function(e){return e.json()}).then(function(e){console.log(e)})})}function r(e,t){var n={};return a.each(e,function(e,t){n[e.name]?("string"==typeof n[e.name]&&(n[e.name]=[n[e.name]]),n[e.name].push(e.value)):n[e.name]=e.value}),a.each(t.fields,function(e){"checkbox"==e.type&&"string"==typeof n[e.slug]&&(n[e.slug]=[n[e.slug]])}),n}var i="undefined"!=typeof window?window.$:void 0!==n?n.$:null,a="undefined"!=typeof window?window._:void 0!==n?n._:null,c="undefined"!=typeof window?window.Backbone:void 0!==n?n.Backbone:null;c.$=i;var u=e("./model.js"),l=c.Collection.extend({initialize:function(e,t){},model:u,render:function(){console.log(this.schema);var e=a.template(i("#models-list-template").html());i("#page-content .main-content").html(e({data:this.toJSON(),schema:this.schema})).attr("class","main-content").addClass("models-container")},renderForm:function(){var e=a.template(i("#model-creation-template").html());i("#page-content .main-content").html(e(this.schema)).attr("class","main-content").addClass("edit-model"),o(i("#page-content .main-content.edit-model .model-form"),this.schema)}});t.exports=l}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./model.js":3}],2:[function(e,t,n){(function(t){var n="undefined"!=typeof window?window.$:void 0!==t?t.$:null,o="undefined"!=typeof window?window._:void 0!==t?t._:null,r="undefined"!=typeof window?window.Backbone:void 0!==t?t.Backbone:null;r.$=n;var i,a=e("jwt-decode"),c=e("store"),u=e("./routes.js");window.host="http://localhost:3001";var l=c.get("accessToken");window.rootURL="http://localhost:3003",window.fetchHeaders=new Headers({Authorization:"Bearer "+l,"Content-Type":"application/json"}),window.tokenData=null,l&&(tokenData=a(l)),!tokenData||moment(tokenData.exp).isAfter(Date.now())?(window.getSchemas=Promise.reject(new Error("Authentication token invalid or missing")).catch(function(e){}),"/login"!=window.location.pathname&&window.location.replace("/login")):window.getSchemas=fetch(`${host}/api/schema`,{method:"get",headers:fetchHeaders}).then(function(e){return e.json()}),getSchemas.then(function(e){i=new u(e),r.history.start({pushState:!0})}),n(document).ready(function(){var e=o.template(n("#header-right-template").html());n("#page-header .right").html(e()),getSchemas.then(function(e){var t=o.template(n("#sidebar-list-template").html());n("#page-content .sidebar .sidebar-list").html(t({schemas:e})),t=o.template(n("#sidebar-admin-list-template").html()),n("#page-content .sidebar .sidebar-admin-list").html(t(tokenData))}).catch(function(e){}),getSchemas.then(function(e){}).catch(function(e){})})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./routes.js":4,"jwt-decode":7,store:8}],3:[function(e,t,n){(function(e){function n(e){e.click(function(e){e.preventDefault(),fetch(o(this).attr("action"),{headers:window.fetchHeaders,method:"delete"}).then(function(e){return e.json()}).then(function(e){console.log(e)})})}var o="undefined"!=typeof window?window.$:void 0!==e?e.$:null,r="undefined"!=typeof window?window._:void 0!==e?e._:null,i="undefined"!=typeof window?window.Backbone:void 0!==e?e.Backbone:null;i.$=o;var a=i.Model.extend({render:function(){var e=r.template(o("#model-template").html());o("#page-content .main-content").html(e({data:this.toJSON(),collectionSlug:this.collectionSlug,collectionName:this.collectionName,fields:this.fields})).attr("class","main-content").addClass("model-container"),n(o("#page-content .main-content.model-container .delete-btn"))}});t.exports=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(e,t,n){(function(n){var o="undefined"!=typeof window?window.$:void 0!==n?n.$:null,r="undefined"!=typeof window?window._:void 0!==n?n._:null,i="undefined"!=typeof window?window.Backbone:void 0!==n?n.Backbone:null;i.$=o;var a=e("store"),c=e("./collection.js"),u=e("./model.js"),l={},s=i.Router.extend({initialize:function(e){r.each(e,function(e,t){this.route("collections/"+e.collectionSlug,e.collectionName,function(){window.getSchemas.then(function(){fetch(`${window.host}/api/collections/${e.collectionSlug}`,{headers:window.fetchHeaders}).then(function(e){return e.json()}).then(function(t){l[e.collectionSlug]=new c(t);var n=l[e.collectionSlug];n.schema=e,n.render()})})}),this.route("collections/"+e.collectionSlug+"/:uid",e.collectionName+": model",function(t){window.getSchemas.then(function(){fetch(`${window.host}/api/collections/${e.collectionSlug}/${t}`,{headers:window.fetchHeaders}).then(function(e){return e.json()}).then(function(t){var n=new u(t);n.collectionSlug=e.collectionSlug,n.collectionName=e.collectionName,n.fields=e.fields,n.render()})})}),this.route("collections/"+e.collectionSlug+"/new",e.collectionName+": new",function(){window.getSchemas.then(function(){l[e.collectionSlug]?l[e.collectionSlug].renderForm():fetch(`${window.host}/api/collections/${e.collectionSlug}`,{headers:window.fetchHeaders}).then(function(e){return e.json()}).then(function(t){l[e.collectionSlug]=new c(t),l[e.collectionSlug].schema=e,l[e.collectionSlug].renderForm()})})}),this.route("login","login",function(){function e(e){var t={};return r.each(e,function(e,n){t[e.name]=e.value}),t}var t=r.template(o("#login-form-template").html());o("#page-content .main-content").html(t()),o("#page-content .main-content .login-form form").submit(function(t){t.preventDefault();var n=e(o(this).serializeArray());fetch(o(this).attr("action"),{headers:window.fetchHeaders,method:"post",body:JSON.stringify(n)}).then(function(e){return e.json()}).then(function(e){a.set("accessToken",e.access_token),window.location.replace("/")})})}),this.route("logout","logout",function(){a.remove("accessToken"),window.location.replace("/login")})},this)}});t.exports=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./collection.js":1,"./model.js":3,store:8}],5:[function(e,t,n){function o(e){this.message=e}var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.prototype=new Error,o.prototype.name="InvalidCharacterError",t.exports="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new o("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,i,a=0,c=0,u="";i=t.charAt(c++);~i&&(n=a%4?64*n+i:i,a++%4)?u+=String.fromCharCode(255&n>>(-2*a&6)):0)i=r.indexOf(i);return u}},{}],6:[function(e,t,n){function o(e){return decodeURIComponent(r(e).replace(/(.)/g,function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}var r=e("./atob");t.exports=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return o(t)}catch(e){return r(t)}}},{"./atob":5}],7:[function(e,t,n){"use strict";function o(e){this.message=e}var r=e("./base64_url_decode");(o.prototype=new Error).name="InvalidTokenError",t.exports=function(e,t){if("string"!=typeof e)throw new o("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(r(e.split(".")[n]))}catch(e){throw new o("Invalid token specified: "+e.message)}},t.exports.InvalidTokenError=o},{"./base64_url_decode":6}],8:[function(e,t,n){var o=e("../src/store-engine"),r=e("../storages/all"),i=[e("../plugins/json2")];t.exports=o.createStore(r,i)},{"../plugins/json2":9,"../src/store-engine":11,"../storages/all":13}],9:[function(e,t,n){t.exports=function(){return e("./lib/json2"),{}}},{"./lib/json2":10}],10:[function(require,module,exports){"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(e){return e<10?"0"+e:e}function this_value(){return this.valueOf()}function quote(e){return rx_escapable.lastIndex=0,rx_escapable.test(e)?'"'+e.replace(rx_escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,o,r,i,a,c=gap,u=t[e];switch(u&&"object"==typeof u&&"function"==typeof u.toJSON&&(u=u.toJSON(e)),"function"==typeof rep&&(u=rep.call(t,e,u)),typeof u){case"string":return quote(u);case"number":return isFinite(u)?String(u):"null";case"boolean":case"null":return String(u);case"object":if(!u)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(u)){for(i=u.length,n=0;n<i;n+=1)a[n]=str(n,u)||"null";return r=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+c+"]":"["+a.join(",")+"]",gap=c,r}if(rep&&"object"==typeof rep)for(i=rep.length,n=0;n<i;n+=1)"string"==typeof rep[n]&&(r=str(o=rep[n],u))&&a.push(quote(o)+(gap?": ":":")+r);else for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(r=str(o,u))&&a.push(quote(o)+(gap?": ":":")+r);return r=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+c+"}":"{"+a.join(",")+"}",gap=c,r}}var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value);var gap,indent,meta,rep;"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,n){var o;if(gap="",indent="","number"==typeof n)for(o=0;o<n;o+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var n,o,r=e[t];if(r&&"object"==typeof r)for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(void 0!==(o=walk(r,n))?r[n]=o:delete r[n]);return reviver.call(e,t,r)}var j;if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()},{}],11:[function(e,t,n){function o(){var e="undefined"==typeof console?null:console;e&&(e.warn?e.warn:e.log).apply(e,arguments)}function r(e,t,n){n||(n=""),e&&!f(e)&&(e=[e]),t&&!f(t)&&(t=[t]);var r=n?"__storejs_"+n+"_":"",i=n?new RegExp("^"+r):null;if(!/^[a-zA-Z0-9_\-]*$/.test(n))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var g=s({_namespacePrefix:r,_namespaceRegexp:i,_testStorage:function(e){try{var t="__storejs__test__";e.write(t,t);var n=e.read(t)===t;return e.remove(t),n}catch(e){return!1}},_assignPluginFnProp:function(e,t){var n=this[t];this[t]=function(){function t(){if(n)return u(arguments,function(e,t){o[t]=e}),n.apply(r,o)}var o=a(arguments,0),r=this,i=[t].concat(o);return e.apply(r,i)}},_serialize:function(e){return JSON.stringify(e)},_deserialize:function(e,t){if(!e)return t;var n="";try{n=JSON.parse(e)}catch(t){n=e}return void 0!==n?n:t},_addStorage:function(e){this.enabled||this._testStorage(e)&&(this.storage=e,this.enabled=!0)},_addPlugin:function(e){var t=this;if(f(e))u(e,function(e){t._addPlugin(e)});else if(!c(this.plugins,function(t){return e===t})){if(this.plugins.push(e),!d(e))throw new Error("Plugins must be function values that return objects");var n=e.call(this);if(!p(n))throw new Error("Plugins must return an object of function properties");u(n,function(n,o){if(!d(n))throw new Error("Bad plugin property: "+o+" from plugin "+e.name+". Plugins should only return functions.");t._assignPluginFnProp(n,o)})}},addStorage:function(e){o("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(e)}},h,{plugins:[]});return g.raw={},u(g,function(e,t){d(e)&&(g.raw[t]=l(g,e))}),u(e,function(e){g._addStorage(e)}),u(t,function(e){g._addPlugin(e)}),g}var i=e("./util"),a=i.slice,c=i.pluck,u=i.each,l=i.bind,s=i.create,f=i.isList,d=i.isFunction,p=i.isObject;t.exports={createStore:r};var h={version:"2.0.12",enabled:!1,get:function(e,t){var n=this.storage.read(this._namespacePrefix+e);return this._deserialize(n,t)},set:function(e,t){return void 0===t?this.remove(e):(this.storage.write(this._namespacePrefix+e,this._serialize(t)),t)},remove:function(e){this.storage.remove(this._namespacePrefix+e)},each:function(e){var t=this;this.storage.each(function(n,o){e.call(t,t._deserialize(n),(o||"").replace(t._namespaceRegexp,""))})},clearAll:function(){this.storage.clearAll()},hasNamespace:function(e){return this._namespacePrefix=="__storejs_"+e+"_"},createStore:function(){return r.apply(this,arguments)},addPlugin:function(e){this._addPlugin(e)},namespace:function(e){return r(this.storage,this.plugins,e)}}},{"./util":12}],12:[function(e,t,n){(function(e){function n(e,t){return Array.prototype.slice.call(e,t||0)}function o(e,t){r(e,function(e,n){return t(e,n),!1})}function r(e,t){if(i(e)){for(var n=0;n<e.length;n++)if(t(e[n],n))return e[n]}else for(var o in e)if(e.hasOwnProperty(o)&&t(e[o],o))return e[o]}function i(e){return null!=e&&"function"!=typeof e&&"number"==typeof e.length}var a=Object.assign?Object.assign:function(e,t,n,r){for(var i=1;i<arguments.length;i++)o(Object(arguments[i]),function(t,n){e[n]=t});return e},c=function(){if(Object.create)return function(e,t,o,r){var i=n(arguments,1);return a.apply(this,[Object.create(e)].concat(i))};{function e(){}return function(t,o,r,i){var c=n(arguments,1);return e.prototype=t,a.apply(this,[new e].concat(c))}}}(),u=String.prototype.trim?function(e){return String.prototype.trim.call(e)}:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},l="undefined"!=typeof window?window:e;t.exports={assign:a,create:c,trim:u,bind:function(e,t){return function(){return t.apply(e,Array.prototype.slice.call(arguments,0))}},slice:n,each:o,map:function(e,t){var n=i(e)?[]:{};return r(e,function(e,o){return n[o]=t(e,o),!1}),n},pluck:r,isList:i,isFunction:function(e){return e&&"[object Function]"==={}.toString.call(e)},isObject:function(e){return e&&"[object Object]"==={}.toString.call(e)},Global:l}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],13:[function(e,t,n){t.exports=[e("./localStorage"),e("./oldFF-globalStorage"),e("./oldIE-userDataStorage"),e("./cookieStorage"),e("./sessionStorage"),e("./memoryStorage")]},{"./cookieStorage":14,"./localStorage":15,"./memoryStorage":16,"./oldFF-globalStorage":17,"./oldIE-userDataStorage":18,"./sessionStorage":19}],14:[function(e,t,n){function o(e){for(var t=l.cookie.split(/; ?/g),n=t.length-1;n>=0;n--)if(u(t[n])){var o=t[n].split("="),r=unescape(o[0]);e(unescape(o[1]),r)}}function r(e){e&&i(e)&&(l.cookie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function i(e){return new RegExp("(?:^|;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(l.cookie)}var a=e("../src/util"),c=a.Global,u=a.trim;t.exports={name:"cookieStorage",read:function(e){if(!e||!i(e))return null;var t="(?:^|.*;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(l.cookie.replace(new RegExp(t),"$1"))},write:function(e,t){e&&(l.cookie=escape(e)+"="+escape(t)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")},each:o,remove:r,clearAll:function(){o(function(e,t){r(t)})}};var l=c.document},{"../src/util":12}],15:[function(e,t,n){function o(){return i.localStorage}function r(e){return o().getItem(e)}var i=e("../src/util").Global;t.exports={name:"localStorage",read:r,write:function(e,t){return o().setItem(e,t)},each:function(e){for(var t=o().length-1;t>=0;t--){var n=o().key(t);e(r(n),n)}},remove:function(e){return o().removeItem(e)},clearAll:function(){return o().clear()}}},{"../src/util":12}],16:[function(e,t,n){t.exports={name:"memoryStorage",read:function(e){return o[e]},write:function(e,t){o[e]=t},each:function(e){for(var t in o)o.hasOwnProperty(t)&&e(o[t],t)},remove:function(e){delete o[e]},clearAll:function(e){o={}}};var o={}},{}],17:[function(e,t,n){function o(e){for(var t=i.length-1;t>=0;t--){var n=i.key(t);e(i[n],n)}}var r=e("../src/util").Global;t.exports={name:"oldFF-globalStorage",read:function(e){return i[e]},write:function(e,t){i[e]=t},each:o,remove:function(e){return i.removeItem(e)},clearAll:function(){o(function(e,t){delete i[e]})}};var i=r.globalStorage},{"../src/util":12}],18:[function(e,t,n){function o(e){return e.replace(/^\d/,"___$&").replace(l,"___")}var r=e("../src/util").Global;t.exports={name:"oldIE-userDataStorage",write:function(e,t){if(!u){var n=o(e);c(function(e){e.setAttribute(n,t),e.save(i)})}},read:function(e){if(!u){var t=o(e),n=null;return c(function(e){n=e.getAttribute(t)}),n}},each:function(e){c(function(t){for(var n=t.XMLDocument.documentElement.attributes,o=n.length-1;o>=0;o--){var r=n[o];e(t.getAttribute(r.name),r.name)}})},remove:function(e){var t=o(e);c(function(e){e.removeAttribute(t),e.save(i)})},clearAll:function(){c(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(i);for(var n=t.length-1;n>=0;n--)e.removeAttribute(t[n].name);e.save(i)})}};var i="storejs",a=r.document,c=function(){if(!a||!a.documentElement||!a.documentElement.addBehavior)return null;var e,t,n;try{(t=new ActiveXObject("htmlfile")).open(),t.write('<script>document.w=window<\/script><iframe src="/favicon.ico"></iframe>'),t.close(),e=t.w.frames[0].document,n=e.createElement("div")}catch(t){n=a.createElement("div"),e=a.body}return function(t){var o=[].slice.call(arguments,0);o.unshift(n),e.appendChild(n),n.addBehavior("#default#userData"),n.load(i),t.apply(this,o),e.removeChild(n)}}(),u=(r.navigator?r.navigator.userAgent:"").match(/ (MSIE 8|MSIE 9|MSIE 10)\./),l=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g")},{"../src/util":12}],19:[function(e,t,n){function o(){return i.sessionStorage}function r(e){return o().getItem(e)}var i=e("../src/util").Global;t.exports={name:"sessionStorage",read:r,write:function(e,t){return o().setItem(e,t)},each:function(e){for(var t=o().length-1;t>=0;t--){var n=o().key(t);e(r(n),n)}},remove:function(e){return o().removeItem(e)},clearAll:function(){return o().clear()}}},{"../src/util":12}]},{},[2]);